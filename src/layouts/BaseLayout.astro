---
import Header from "../components/Header.astro";
import FooterMain from "../components/FooterMain.astro";

const BASE = import.meta.env.BASE_URL;
const { title = "RESO DB" } = Astro.props;
---

<!doctype html>
<html lang="ko">
  <head>
    <meta name="app-base" content={`${BASE}`} />
    <script>
      (function () {
        try {
          var mode = localStorage.getItem("theme_mode") || "dark";
          if (mode === "light") {
            document.documentElement.setAttribute("data-theme", "light");
          }
        } catch (e) {}
      })();
    </script>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>

    <link rel="icon" href="data:," />

    <!-- 공통 CSS -->
    <link rel="stylesheet" href={`${BASE}css/base.css`} />
    <link rel="stylesheet" href={`${BASE}css/layout.css`} />
    <link rel="stylesheet" href={`${BASE}css/header.css`} />
    <link rel="stylesheet" href={`${BASE}css/components.css`} />
    <link rel="stylesheet" href={`${BASE}css/theme-dark.css`} />
    <link rel="stylesheet" href={`${BASE}css/theme-light.css`} />

    <!-- 페이지별 head 확장 -->
    <slot name="head" />
  </head>

  <body>
    <Header />

    <slot />

    <FooterMain />

    <!-- 공통 JS -->
    <script src={`${BASE}app/utils/base.js`} defer></script>
    <script src={`${BASE}app/main.js`} defer></script>

    <!-- 페이지별 스크립트(필요시) -->
    <slot name="scripts" />
  </body>
</html>
